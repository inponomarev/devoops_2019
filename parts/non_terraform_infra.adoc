:backend: revealjs
:revealjs_theme: white
:revealjs_customtheme: white_course.css
:revealjs_history:
:customcss: common.css
:revealjs_transition: none
:revealjs_slideNumber: true
:revealjs_center: false
:revealjs_width: 1600
:revealjs_height: 900

=== !
["graphviz", "terraform_kubernetes", "png"]
---------------------------------------------------------------------
digraph main {
  node [fontname = "PT Sans", fontsize=20];
  edge [fontname = "PT Sans", fontsize=20];
  rankdir = LR;
  terraform  [shape=polygon,sides=6,peripheries=3,color=blueviolet,style=filled,label="Terraform"];
  cloud_provider -> k8s_cluster -> helm -> chart;
  terraform -> cloud_provider[label="infrastructure"];
  terraform -> k8s_cluster[label="secrets, tiller"];
  terraform -> helm[label="datasource"];
  terraform -> chart[label="values"];
}
---------------------------------------------------------------------

=== !
["graphviz", "terraform_kubernetes1", "png"]
---------------------------------------------------------------------
digraph main {
  node [fontname = "PT Sans", fontsize=20];
  edge [fontname = "PT Sans", fontsize=20];
  rankdir = LR;
  terraform  [shape=polygon,sides=6,peripheries=3,color=blueviolet,style=filled,label="Terraform"];
  cloud_provider -> k8s_cluster -> helm -> chart;
  terraform -> cloud_provider[label="infrastructure"];
  terraform -> k8s_cluster[label="secrets, tiller"];
  terraform -> helm[label="datasource"];
  terraform -> chart[label="values"];
  chart -> k8s_cluster[label="scaling, ingress"]
}
---------------------------------------------------------------------

=== !
["graphviz", "terraform_kubernetes2", "png"]
---------------------------------------------------------------------
digraph main {
  node [fontname = "PT Sans", fontsize=20];
  edge [fontname = "PT Sans", fontsize=20];
  rankdir = LR;
  terraform  [shape=polygon,sides=6,peripheries=3,color=blueviolet,style=filled,label="Terraform"];
  cloud_provider -> k8s_cluster -> helm -> chart;
  terraform -> cloud_provider[label="infrastructure"];
  terraform -> k8s_cluster[label="secrets, tiller"];
  terraform -> helm[label="datasource"];
  terraform -> chart[label="values"];
  chart -> k8s_cluster[label="scaling, ingress, dns"]
  k8s_cluster -> cloud_provider[label="infrastructure, dns, lb"]
}
---------------------------------------------------------------------

=== !
["graphviz", "terraform_kubernetes3", "png"]
---------------------------------------------------------------------
digraph main {
  node [fontname = "PT Sans", fontsize=20];
  edge [fontname = "PT Sans", fontsize=20];
  rankdir = LR;
  terraform  [shape=polygon,sides=6,peripheries=3,color=blueviolet,style=filled,label="Terraform"];
  cloud_provider -> k8s_cluster -> helm -> chart;
  terraform -> cloud_provider[label="infrastructure"];
  terraform -> k8s_cluster[label="secrets, tiller"];
  terraform -> helm[label="datasource"];
  terraform -> chart[label="values",color=red];
  chart -> k8s_cluster[label="scaling, ingress, dns"]
  k8s_cluster -> cloud_provider[label="infrastructure, dns, lb"]
}
---------------------------------------------------------------------

=== Почему это удобно?
[%step]
* Всё находится в values.yml в чарте.
* И мелкая инфраструктура тоже.
* И ничего из этого не попадает в tf файл.
